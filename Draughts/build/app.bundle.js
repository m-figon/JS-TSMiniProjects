(()=>{function e(e,r){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var l=0,a=function(){};return{s:a,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}document.querySelectorAll(".white-part");var r,n,l,a,o,i,c=document.querySelectorAll(".black-part"),d=document.querySelector(".game"),h=document.querySelector(".board"),u=0,f=[[" "," "," "," "," "," "," "," "," "," "],[" "," "," "," "," "," "," "," "," "," "],[" "," "," "," "," "," "," "," "," "," "],[" "," "," "," "," "," "," "," "," "," "],[" "," "," "," "," "," "," "," "," "," "],[" "," "," "," "," "," "," "," "," "," "],[" "," "," "," "," "," "," "," "," "," "],[" "," "," "," "," "," "," "," "," "," "],[" "," "," "," "," "," "," "," "," "," "],[" "," "," "," "," "," "," "," "," "," "]],s=function(e){h.remove();var t=document.createElement("div");t.className="game-status";var r=document.createElement("h2");r.innerText="".concat(e," Draughts Won!"),t.appendChild(r),d.appendChild(t)},g=function(){console.log(f)},m=function(){for(var e=document.querySelectorAll(".row"),t=!1,r=!1,n=0;n<e.length;n++)for(var l=0;l<e[n].children.length;l++)e[n].children[l].firstElementChild&&("H1"===e[n].children[l].firstElementChild.tagName?f[n][l]=e[n].children[l].firstElementChild.innerHTML:"BUTTON"===e[n].children[l].firstElementChild.tagName&&("white-button"===e[n].children[l].firstElementChild.className?(f[n][l]="W",r=!0):"black-button"===e[n].children[l].firstElementChild.className&&(f[n][l]="B",t=!0)));r?t||s("White"):s("Black")},b=function(e){e.dataTransfer.setData("content",e.target.className),o=e.target.className,i=e.target;for(var t=document.querySelectorAll(".row"),l=0;l<t.length;l++)for(var a=0;a<t[l].children.length;a++)t[l].children[a].firstElementChild&&"BUTTON"===t[l].children[a].firstElementChild.tagName&&t[l].children[a].firstElementChild===e.target&&(r=l,n=a,console.log(r+" "+n));g()};window.addEventListener("DOMContentLoaded",(function(){var t,r=e(document.querySelectorAll("button"));try{for(r.s();!(t=r.n()).done;)t.value.addEventListener("dragstart",b)}catch(e){r.e(e)}finally{r.f()}var n,l=e(c);try{for(l.s();!(n=l.n()).done;){var a=n.value;a.addEventListener("dragover",v),a.addEventListener("drop",(function(e){y(e,"rgb(56, 56, 56)")})),a.addEventListener("dragleave",(function(e){C(e,"rgb(56, 56, 56)")}))}}catch(e){l.e(e)}finally{l.f()}}));var v=function(e){if(e.preventDefault(),0===e.target.children.length&&"black-part"===e.target.className)for(var t=document.querySelectorAll(".row"),i=0;i<t.length;i++)for(var c=0;c<t[i].children.length;c++)t[i].children[c]===e.target&&(a=c,((l=i)-r==1&&a-n==1&&"white-button"===o&&u%2==1||l-r==1&&a-n==-1&&"white-button"===o&&u%2==1||l-r==2&&a-n==2&&"white-button"===o&&"B"===f[l-1][a-1]&&u%2==1||l-r==2&&a-n==-2&&"white-button"===o&&"B"===f[l-1][a+1]&&u%2==1||r-l==1&&n-a==1&&"black-button"===o&&u%2==0||r-l==1&&n-a==-1&&"black-button"===o&&u%2==0||r-l==2&&n-a==2&&"black-button"===o&&"W"===f[r-1][n-1]&&u%2==0||r-l==2&&n-a==-2&&"black-button"===o&&"W"===f[r-1][n+1]&&u%2==0)&&(e.target.style.animation="bgChange 1s infinite"))},y=function(e,t){var o=function(){e.target.appendChild(i),e.target.style.backgroundColor=t,f[r][n]=" ",u++};if(e.preventDefault(),e.target.style.animation="bgChange 0s",console.log(u),0===e.target.children.length&&"black-part"===e.target.className)if(console.log("dropped black"),"black-button"===e.dataTransfer.getData("content")&&u%2==0){i.style.backgroundColor="black";for(var c=document.querySelectorAll(".row"),d=0;d<c.length;d++)for(var h=0;h<c[d].children.length;h++)c[d].children[h]===e.target&&(a=h,r-(l=d)==1&&n-a==1||r-l==1&&n-a==-1?(o(),m()):r-l==2&&n-a==2&&"W"===f[r-1][n-1]?(o(),f[r-1][n-1],c[r-1].children[n-1].removeChild(c[r-1].children[n-1].firstElementChild),m()):r-l==2&&n-a==-2&&"W"===f[r-1][n+1]&&(o(),f[r-1][n+1],c[r-1].children[n+1].removeChild(c[r-1].children[n+1].firstElementChild),m()));g()}else if("white-button"===e.dataTransfer.getData("content")&&u%2==1){console.log("dropped white"),i.style.backgroundColor="white";for(var s=document.querySelectorAll(".row"),b=0;b<s.length;b++)for(var v=0;v<s[b].children.length;v++)s[b].children[v]===e.target&&(a=v,(l=b)-r==1&&a-n==1||l-r==1&&a-n==-1?(o(),m()):l-r==2&&a-n==2&&f&&"B"===f[l-1][a-1]?(o(),f[l-1][a-1],s[l-1].children[a-1].removeChild(s[l-1].children[a-1].firstElementChild),m()):l-r==2&&a-n==-2&&f&&"B"===f[l-1][a+1]&&(o(),f[l-1][a+1],s[l-1].children[a+1].removeChild(s[l-1].children[a+1].firstElementChild),m()));g()}},C=function(e,t){"black-part"===e.target.className&&(e.target.style.animation="bgChange 0s")};m(),g()})();